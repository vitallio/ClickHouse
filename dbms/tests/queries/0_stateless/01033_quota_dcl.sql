DROP QUOTA IF EXISTS quota_01033, quota_01033b;

CREATE QUOTA quota_01033;
SHOW CREATE QUOTA quota_01033;
DROP QUOTA quota_01033;

CREATE QUOTA quota_01033;
ALTER QUOTA quota_01033 KEYED BY 'user name';
SHOW CREATE QUOTA quota_01033;
ALTER QUOTA quota_01033 KEYED BY 'client key or user name';
SHOW CREATE QUOTA quota_01033;

ALTER QUOTA quota_01033 SET MAX QUERIES = 123 FOR INTERVAL 1 HOUR;
SHOW CREATE QUOTA quota_01033;
ALTER QUOTA quota_01033 SET TRACKING FOR RANDOMIZED INTERVAL 2 HOUR;
SHOW CREATE QUOTA quota_01033;
ALTER QUOTA quota_01033 UNSET TRACKING FOR INTERVAL 2 HOUR, UNSET TRACKING FOR INTERVAL 1 HOUR, SET TRACKING FOR INTERVAL 1 WEEK;
SHOW CREATE QUOTA quota_01033;

ALTER QUOTA quota_01033 RENAME TO quota_01033b;
SHOW CREATE QUOTA quota_01033b;
CREATE QUOTA quota_01033 KEYED BY 'ip address' MAX EXECUTION TIME = 0.5 FOR RANDOMIZED INTERVAL 0.5 HOUR;
SHOW CREATE QUOTA quota_01033;

CREATE QUOTA IF NOT EXISTS quota_01033 KEYED BY 'client key';
SHOW CREATE QUOTA quota_01033;
CREATE QUOTA OR REPLACE quota_01033 KEYED BY 'client key';
SHOW CREATE QUOTA quota_01033;

DROP QUOTA IF EXISTS quota_01033, quota_01033b;
